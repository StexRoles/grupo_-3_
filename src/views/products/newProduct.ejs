<!-- Paritials head -->

<%- include('../partials/head.ejs', { extraFont: "https://fonts.googleapis.com/css2?family=Fjalla+One&display=swap", stylesheetPath: "/css/styles-newProduct.css" }) %>

<body>
    <!--Partials header  -->
    <%- include('../partials/header.ejs') %>
    
    <main>
        <div class="contenedor-principal">

            <!--------- TITULO DEL FORMULARIO ----------->
            <div class="contenedor-titulo">
                <h2>Crear un nuevo producto</h2>
            </div>


            <!-------------- FORMULARIO --------------------->
            <div class="contenedor-formulario">
                <form action="/product/allProducts/newProduct" method="POST" enctype="multipart/form-data">
                    <div class="contenedor-inputs">
                        <div>
                            <label for="name">Nombre del producto:</label>
                            <input type="text" id="name" name="name" placeholder="Ej: Smartwatch Amazfit Bip 3 Pink" value="<%= locals.oldData ? oldData.name : null %>">
                            <% if (locals.errors && errors.name) { %>
                                <div class="error">* <%= errors.name.msg %></div>
                            <% } %>
                        </div>
                            
                        <div>
                            <label for="price">Precio del producto:</label>
                            <input type="text" id="price" name="price" placeholder="Ej: 5678" value="<%= locals.oldData ? oldData.price : null %>">
                            <% if (locals.errors && errors.price) { %>
                                <div class="error">* <%= errors.price.msg %></div>
                            <% } %>
                        </div>

                        <div>
                            <label for="discount">Descuento:</label>
                            <input type="text" id="discount" name="discount" placeholder="Ej: 15" value="<%= locals.oldData ? oldData.discount : null %>">
                            <% if (locals.errors && errors.discount) { %>
                                <div class="error">* <%= errors.discount.msg %></div>
                            <% } %>
                        </div>

                        <div>
                            <label for="brand">Marca:</label>
                            <select name="brand" id="brand">
                                <% brands.forEach(element => { %>
                                    <option value="<%= element.id %>"><%= element.name %></option>
                                <% }) %>
                            </select>
                        </div>

                        <!------------ CHECKBOX DE LAS CATEGORIAS ---------------->
                        <div class="contenedor-categorias">
                            <label for="categories">Categorias:</label>
                            <% categories.forEach(category => { %>

                                <div>
                                    <input type="checkbox" id="<%= category.name %>" name="categories" value="<%= category.id %>">
                                    <label for="<%= category.name %>"><%= category.name %></label>
                                </div>

                            <% }) %>
                            <% if (locals.errors && errors.categories) { %>
                                <div class="error">* <%= errors.categories.msg %></div>
                            <% } %>
                        </div>

                        <div class="contenedor-imagen">
                            <label for="image">Imagen:</label>
                            <input type="file" id="image" name="image">
                            <% if (locals.errors && errors.image) { %>
                                <div class="error">* <%= errors.image.msg %></div>
                            <% } %>
                        </div>

                        <div>
                            <label for="status">Estado:</label>
                            <select name="status" id="status">
                                <option value="0" selected>Ninguno</option>
                                <% status.forEach(element => { %>
                                    <option value="<%= element.id %>"><%= element.name %></option>
                                <% }) %>
                            </select>
                        </div>

                        <div>
                            <label for="description">Descripci√≥n:</label>
                            <textarea name="description" id="description"><%= locals.oldData ? oldData.description : null %></textarea>
                            <% if (locals.errors && errors.description) { %>
                                <div class="error">* <%= errors.description.msg %></div>
                            <% } %>
                        </div>

                        <div class="boton-guardar">
                            <button type="submit">Guardar producto</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!--Partials footer  -->
    <%- include('../partials/footer.ejs') %>

</body>
</html>